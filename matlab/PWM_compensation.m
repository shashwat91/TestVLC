dcycle_u = [29.032259,35.483871,35.483871,35.483871,35.483871,35.483871,35.483871,41.935482,35.483871,35.483871,35.483871,41.935482,35.483871,41.935482,41.935482,41.935482,35.483871,35.483871,35.483871,41.935482,35.483871,41.935482,41.935482,41.935482,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,35.483871,35.483871,35.483871,41.935482,35.483871,41.935482,41.935482,41.935482,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,35.483871,35.483871,35.483871,41.935482,35.483871,41.935482,41.935482,41.935482,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,41.935482,48.387096,48.387096,48.387096,48.387096,48.387096,48.387096,54.838711,35.483871,35.483871,35.483871,41.935482,35.483871,41.935482,41.935482,41.935482,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,41.935482,48.387096,48.387096,48.387096,48.387096,48.387096,48.387096,54.838711,35.483871,41.935482,41.935482,41.935482,41.935482,41.935482,41.935482,48.387096,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,41.935482,48.387096,48.387096,48.387096,48.387096,48.387096,48.387096,54.838711,41.935482,41.935482,41.935482,48.387096,41.935482,48.387096,48.387096,48.387096,41.935482,48.387096,48.387096,48.387096,48.387096,48.387096,48.387096,54.838711,41.935482,48.387096,48.387096,48.387096,48.387096,48.387096,48.387096,54.838711,48.387096,48.387096,48.387096,54.838711,48.387096,54.838711,54.838711,54.838711];

count = .31 * dcycle_u;

for i=1:256
   if uint8(count(i)) == 11 || uint8(count(i)) == 13
       count(i) = 15;
   end
end

dcycle_c = (100/35) * count;

figure('Name','Duty cycle of PWM');
hold on;
plot(dcycle_u,'r-');
plot(dcycle_c,'b-');
xlim([0 256])
title('Duty Cycle of PWM packet VS data');
legend('Uncompensated values', 'Compensated Values');
ylabel('Duty Cycle (%)');
xlabel('Data value');
hold off;